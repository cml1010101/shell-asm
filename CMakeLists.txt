cmake_minimum_required(VERSION 3.10)
project(shell-asm VERSION 0.1.0 LANGUAGES CXX)
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake")
find_package(Boost REQUIRED COMPONENTS thread)
find_package(asmjit REQUIRED)
find_package(asmtk REQUIRED)
find_package(PkgConfig REQUIRED)
pkg_search_module(CAPSTONE REQUIRED capstone)
pkg_search_module(KEYSTONE REQUIRED keystone)
add_executable(shell-asm "src/main.cpp")
target_link_libraries(shell-asm PRIVATE asmjit::asmjit asmjit::asmtk Boost::thread ${CAPSTONE_LIBRARIES} ${KEYSTONE_LIBRARIES})
target_include_directories(shell-asm PRIVATE ${CAPSTONE_INCLUDE_DIRS} ${KEYSTONE_INCLUDE_DIRS} "include")